<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Devices</h1>
      <table class="table">
        <thead>
        <tr table-sort-indicator>
          <th ng-click="sort.field = 'label'; sort.type = sort.type === 'asc' ? 'desc' : 'asc'">Label</th>
          <th ng-click="sort.field = 'name'; sort.type = sort.type === 'asc' ? 'desc' : 'asc'">Name</th>
          <th ng-click="sort.field = 'lastSeen'; sort.type = sort.type === 'asc'? 'desc' : 'asc'">Last Seen</th>
          <th class="no-sort"></th>
          <th class="no-sort"></th>
          <th class="no-sort"></th>
        </tr>
        </thead>
        <tbody ng-repeat="device in devices | orderBy:sort.field:sort.type==='asc'?0:1">
          <tr>
            <td class="editable"><input blurevent type="text" placeholder="model" data-ng-model="device.label" /></td>
            <td class="editable"><input blurevent type="text" placeholder="model" data-ng-model="device.name" /></td>
            <td>{{ device.lastSeen | date: 'dd.MM.yyyy HH:mm:ss' }}</td>
            <td class="float-right table-user">
              <img
                class="user-icon-devices"
                ng-class="device.loanedBy ? '' : 'user-icon-hidden'"
                ng-src={{device.loanedByImage}}
                />
              {{ device.loanedBy }}
            </td>
            <td class="table-icon">
              <span class="glyphicon float-right"
                    ng-class="device.status === 'available' ? 'glyphicon-ok' : 'glyphicon-remove'"
                >
              </span>
            </td>
            <td class="table-icon">
              <a class="remove-user-link" ng-click="removeDevice(device)">
                <span class="glyphicon glyphicon-trash float-right" title="Remove device"></span>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


